<%= image_tag "login_bg.jpg", class: "object-cover max-h-screen w-full" %>
<div class="mx-auto w-full absolute top-0 left-0 right-0 bottom-20 flex justify-center items-center">
  <div class="w-full max-w-md">
    <% if alert = flash[:alert] %>
      <p class="py-2 px-3 bg-red-50 mb-5 text-red-500 font-medium rounded-lg inline-block" id="alert"><%= alert %></p>
    <% end %>
    <% if notice = flash[:notice] %>
      <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-lg inline-block" id="notice"><%= notice %></p>
    <% end %>
    <%= image_tag "logo.png", class: "w-[100] mx-auto mb-10" %>
    
    <h2 class="text-2xl font-bold text-center mb-6 text-white">アカウント作成</h2>
    <p class="text-center text-white mb-6">招待されたメールアドレス: <strong><%= @user_invitation.email_address %></strong></p>
    
    <%= form_with model: @user, url: activate_user_invitation_path(@token), local: true do |form| %>
      <fieldset class="fieldset bg-base-200 border-base-300 rounded-box border p-6 w-full">
        <div class="flex flex-col space-y-4">
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="label">姓（英語）</label>
              <%= form.text_field :family_name_eng, required: true, placeholder: "Yamada", class: "input w-full" %>
              <% if @user.errors[:family_name_eng].any? %>
                <p class="text-error text-sm mt-1"><%= @user.errors[:family_name_eng].first %></p>
              <% end %>
            </div>
            <div>
              <label class="label">名（英語）</label>
              <%= form.text_field :given_name_eng, required: true, placeholder: "Taro", class: "input w-full" %>
              <% if @user.errors[:given_name_eng].any? %>
                <p class="text-error text-sm mt-1"><%= @user.errors[:given_name_eng].first %></p>
              <% end %>
            </div>
          </div>
          
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="label">姓（漢字）</label>
              <%= form.text_field :family_name_kanji, required: true, placeholder: "山田", class: "input w-full" %>
              <% if @user.errors[:family_name_kanji].any? %>
                <p class="text-error text-sm mt-1"><%= @user.errors[:family_name_kanji].first %></p>
              <% end %>
            </div>
            <div>
              <label class="label">名（漢字）</label>
              <%= form.text_field :given_name_kanji, required: true, placeholder: "太郎", class: "input w-full" %>
              <% if @user.errors[:given_name_kanji].any? %>
                <p class="text-error text-sm mt-1"><%= @user.errors[:given_name_kanji].first %></p>
              <% end %>
            </div>
          </div>
          
          <div>
            <label class="label">パスワード</label>
            <%= form.password_field :password, required: true, autocomplete: "new-password", placeholder: "パスワード（8文字以上）", minlength: 8, class: "input w-full" %>
            <% if @user.errors[:password].any? %>
              <p class="text-error text-sm mt-1"><%= @user.errors[:password].first %></p>
            <% end %>
          </div>
          
          <div>
            <label class="label">パスワード（確認）</label>
            <%= form.password_field :password_confirmation, required: true, autocomplete: "new-password", placeholder: "パスワード（確認）", class: "input w-full" %>
            <% if @user.errors[:password_confirmation].any? %>
              <p class="text-error text-sm mt-1"><%= @user.errors[:password_confirmation].first %></p>
            <% end %>
          </div>
          
          <%= form.submit "アカウント作成", class: "btn btn-primary w-full" %>
        </div>
      </fieldset>
    <% end %>
  </div>
</div>
